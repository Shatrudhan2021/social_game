<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Intro / Explanation</title>
  <!-- bootstrap css -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="css/style.css">
  <!-- Global Site Tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-V1QG4Q0BSX"></script>

  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-V1QG4Q0BSX');
  </script>

</head>

<body>
  <div class="">
    <div class="Section-1 bg-dog-image ">
      <nav class="navbar navbar-expand-lg border-0 navbar-light px-2
      Section-1">
        <img class="pt-3" src="Image/Hills_TransformingLives_Logo_CMYK_White TL_2019.png">
        <img class="pt-3" src="">
        <button class="button-toogle bg-none pt-5 text-white" data-toggle="collapse"
          data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent">
          <span class="navbar-toggler text-white bg-none "><i class="bi bi-list fa-2x "></i></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto text-white">
            <li class="close">
                <i class="bi bi-x text-dark fa-3x"></i>
            </li>
            <li class="nav-item active">
                <a class="nav-link pb-0 text-decoration-none">
                    <span data-lang="GAMES_RULES" id="menu_game_rules">Game Rules </span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link py-0 text-decoration-none">
                    <span data-lang="PRIVACY_POLICY" id="Privacy">Privacy Policy </span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link py-0 text-decoration-none">
                    <span data-lang="COOKIES_POLICY" id="cookies"> Cookies Policy</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link pt-0 text-decoration-none">
                    <span class="text-primary" data-lang="CONTACT" id="contact_menu">Contact </span>
                </a>
            </li>
        </ul>
        </div>
      </nav>
    </div>
    <div class=" container Section-2 text-center pt-4 px-4">
      <h1 class="text-primary  pb-2"><span data-lang="WELCOME" id="contentLang"> </span> </h1>
      <p> <span data-lang="CONTENTINTRO">
      </span>   <br><span data-lang="SMALL_TEXT_INTRO" class="small-font"></span>
    <span data-lang="GAME_RULES_LINK_INTRO" id="rules" class="small-font text-decoration-underline"></span></p>
      <div>
        <button type="button" class="btn btn-primary px-4 py-2 btn-w-250 "> <a href="how-to-play.html"
            class="text-white text-decoration-none"> <span id="contentLang" data-lang="HOW_TO_PLAY">  </span>
          </a> </button>
      </div>
      <div class="pt-3 pb-4">
        <button type="button" class="btn btn-primary px-5 btn-w-250 py-2 "> <a href="prize-money.html"
            class="text-white text-decoration-none"> <span id="contentLang" data-lang="PRIZE_MONEY"> </span>
          </a></button>
      </div>
      <div class="Section-3 text-center">
        <div class="form-check py-2 d-flex justify-content-center">
          <input class="form-check-input px-2 py-1" id="checkme" type="checkbox">
          <label class="form-check-label px-3">
            <span id="contentLang" data-lang="ACCEPTRULES"></span> <a
              target=""> <span class="text-primary" data-lang="RULES" id="rules_below">  </span>
            </a>
          </label>
        </div class="">
        <button type="button" id="sendNewSms" name="sendNewSms" class="btn btn-danger btn-w-250 my-2 px-5 ">
          <a class="text-white text-decoration-none"> 
            <span id="contentLang" data-lang="PLAY">  </span>
          </a>
        </button>
      </div>
    </div>
    <div class="container cookies_show_hide ">
      <div class="row">
          <p class="my-0 px-2 py-2 text-primary"> 
            <span data-lang="COOKIES_POLICY_WELCOME" id="cookies_below">  </span>
          </p>
          <br>
          <button type="button" class="btn btn-primary w-50 justify-content-center mx-auto  mb-2 border-radius-16"
            id="cookies_accept">
            <span class="text-white text-decoration-none" data-lang="ACCEPT">Accept</span></button>
      </div>
  </div>
  </div>
</div>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
    <script src="js/main.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js" defer></script>
  <script src="//cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js" defer></script>


  <script type="module">

    import fetchApi from "./js/services/fetch.js"
    import lng from "./js/services/language.js"

    const lgInstance = new lng();
    const endPoint = "https://perfectpoop.be/api/";
    // const endPoint = 'http://localhost:9005/api/';

    function initFingerprintJS() {
      const fpPromise = FingerprintJS.load()
      fpPromise
        .then(fp => {
          console.log("FFFFFFF", fp)
          return fp.get()
        })
        .then(result => {
          const visitorId = result.visitorId
          localStorage.setItem('deviceid', visitorId)
          console.log("visito id is ", visitorId)
        })
    }

    $(document).ready(function () {

      $("span[data-lang]").each((index, elm) => {
        const LANG_CODE = $(elm).data('lang');
        const content = lgInstance.trans(`${LANG_CODE}`);
        $(elm).text(content);
      });
      initFingerprintJS();

    var checker = document.getElementById('checkme');
      const sendbtn = document.getElementById('sendNewSms');

      if (this.checked) {
        sendbtn.disabled = false;
      } else {
        sendbtn.disabled = true;
      }
      
      checker.onchange = function () {
        if (this.checked) {
          sendbtn.disabled = false;
        } else {
          sendbtn.disabled = true;
        }
      }
    });

      $("#sendNewSms").on("click", async function () {
        const identifyid = localStorage.getItem("deviceid") ?? null;
        const shop_login_id = localStorage.getItem("shop_login_id") ?? null;
        axios({
          method: 'post',
          url: `${endPoint}user`,
          data: {
            identifyid: identifyid,
            shoploginId: shop_login_id,
          }
        }).then(data => {
          const { data: introdata } = data;
          localStorage.setItem("token", introdata.token)
          window.location.href = "play.html"
        }).catch(err => {
          window.location.href = "already-played.html"
        });

      })
        $("#rules").on("click", function () {
            const languageIdentifier = localStorage.getItem("language")
            if (languageIdentifier == "NL") {
               window.location.href = "nl-rules.html"
            }
            else {
                window.location.href = "fr-rules.html"
            } 

        })
        $("#rules_below").on("click", function () {
            const languageIdentifier = localStorage.getItem("language")
            if (languageIdentifier == "NL") {
               window.location.href = "nl-rules.html"
            }
            else {
                window.location.href = "fr-rules.html"
            }
        })   
  </script>
</body>
</html>